# Query defines all API queries
type Query {
  repo(owner: String!, repo: String!): Repository
  burndown(id: Int!, type: BurndownType = GLOBAL): Burndown
}

scalar Time
scalar Long

# Repositories

type Repository {
  id: Int!
  owner: String!
  name: String!
}

# Burndowns

type Burndown {
  type: BurndownType
  entries: [BurndownEntry!]
}

enum BurndownType {
  GLOBAL
  FILE
  AUTHOR
}

type BurndownEntry {
  start: Time!

  # TODO: add Long type? tbh not sure if int64 is really justified at all here
  # https://gqlgen.com/reference/scalars/#custom-scalars-for-types-you-don-t-control
  bands: [Int!]!
}
